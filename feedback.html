<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ارتباط با ما - بنیاد آسمان آبی</title>

<!-- Bootstrap 5 RTL -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css">

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<!-- AOS Animation -->
<link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css">

<!-- Custom CSS -->
<link rel="stylesheet" href="css/style.css">

<!-- Inline Styles -->
<style>
:root {
--primary-color: #2196F3;
--secondary-color: #87CEEB;
--dark-color: #1a1a1a;
--light-bg: #f8f9fa;
--success-color: #28a745;
--warning-color: #ffc107;
--danger-color: #dc3545;
--info-color: #17a2b8;
}

body {
font-family: 'Vazir', Arial, sans-serif;
line-height: 1.8;
}

/* Header Styles */
.header-top {
background-color: var(--primary-color);
color: white;
padding: 10px 0;
}

.navbar {
box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.navbar-brand img {
height: 50px;
}

/* Page Header */
.page-header {
background: linear-gradient(rgba(33, 150, 243, 0.8), rgba(33, 150, 243, 0.8)), url('https://source.unsplash.com/1920x400/?contact,communication') center/cover;
padding: 100px 0 50px;
color: white;
text-align: center;
}

/* Category Cards */
.category-card {
background: white;
border: 2px solid #e0e0e0;
border-radius: 15px;
padding: 30px;
text-align: center;
cursor: pointer;
transition: all 0.3s;
height: 100%;
}

.category-card:hover {
border-color: var(--primary-color);
transform: translateY(-5px);
box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

.category-card.selected {
border-color: var(--primary-color);
background: #e3f2fd;
}

.category-icon {
width: 70px;
height: 70px;
margin: 0 auto 15px;
display: flex;
align-items: center;
justify-content: center;
border-radius: 50%;
font-size: 30px;
}

.category-card[data-category="complaint"] .category-icon {
background: #ffebee;
color: var(--danger-color);
}

.category-card[data-category="suggestion"] .category-icon {
background: #e8f5e9;
color: var(--success-color);
}

.category-card[data-category="appreciation"] .category-icon {
background: #fff3e0;
color: var(--warning-color);
}

.category-card[data-category="cooperation"] .category-icon {
background: #e3f2fd;
color: var(--primary-color);
}

.category-card[data-category="media"] .category-icon {
background: #f3e5f5;
color: #9c27b0;
}

.category-card[data-category="other"] .category-icon {
background: #e0e0e0;
color: #616161;
}

/* Contact Form */
.contact-form {
background: white;
padding: 40px;
border-radius: 20px;
box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

.form-label {
font-weight: bold;
color: #333;
margin-bottom: 8px;
}

.form-control:focus,
.form-select:focus {
border-color: var(--primary-color);
box-shadow: 0 0 0 0.25rem rgba(33, 150, 243, 0.25);
}

.required-field::after {
content: ' *';
color: var(--danger-color);
}

/* Priority Badges */
.priority-badge {
display: inline-block;
padding: 5px 15px;
border-radius: 20px;
font-size: 14px;
margin-right: 10px;
cursor: pointer;
transition: all 0.3s;
}

.priority-badge.low {
background: #e8f5e9;
color: var(--success-color);
}

.priority-badge.medium {
background: #fff3e0;
color: var(--warning-color);
}

.priority-badge.high {
background: #ffebee;
color: var(--danger-color);
}

.priority-badge.selected {
transform: scale(1.1);
box-shadow: 0 3px 10px rgba(0,0,0,0.2);
}

/* File Upload */
.file-upload-area {
border: 2px dashed #ddd;
border-radius: 10px;
padding: 30px;
text-align: center;
transition: all 0.3s;
cursor: pointer;
}

.file-upload-area:hover {
border-color: var(--primary-color);
background: #f5f5f5;
}

.file-upload-area.dragging {
border-color: var(--primary-color);
background: #e3f2fd;
}

/* Quick Contact Cards */
.quick-contact-card {
background: white;
padding: 30px;
border-radius: 15px;
box-shadow: 0 5px 20px rgba(0,0,0,0.1);
text-align: center;
height: 100%;
transition: all 0.3s;
}

.quick-contact-card:hover {
transform: translateY(-5px);
box-shadow: 0 10px 30px rgba(0,0,0,0.15);
}

.quick-contact-icon {
width: 60px;
height: 60px;
background: var(--primary-color);
color: white;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
font-size: 24px;
margin: 0 auto 20px;
}

/* Success Message */
.success-message {
display: none;
background: var(--success-color);
color: white;
padding: 20px;
border-radius: 10px;
text-align: center;
margin-top: 20px;
}

/* Response Times */
.response-time-info {
background: #e3f2fd;
padding: 20px;
border-radius: 10px;
margin-bottom: 30px;
}

.response-time-info h5 {
color: var(--primary-color);
margin-bottom: 15px;
}

.response-time-item {
display: flex;
align-items: center;
margin-bottom: 10px;
}

.response-time-item i {
width: 30px;
color: var(--primary-color);
}

/* Footer */
footer {
background: var(--dark-color);
color: white;
padding: 40px 0 20px;
}

.footer-links a {
color: white;
text-decoration: none;
transition: color 0.3s;
}

.footer-links a:hover {
color: var(--secondary-color);
}

/* FAQ Section */
.faq-section {
background: var(--light-bg);
padding: 60px 0;
}

/* Loading Spinner */
.spinner-overlay {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0,0,0,0.5);
z-index: 9999;
justify-content: center;
align-items: center;
}

.spinner-overlay.show {
display: flex;
}

/* Validation */
.invalid-feedback {
display: none;
color: var(--danger-color);
font-size: 14px;
margin-top: 5px;
}

.was-validated .form-control:invalid ~ .invalid-feedback,
.was-validated .form-select:invalid ~ .invalid-feedback {
display: block;
}
</style>
</head>
<body>
<!-- Loading Spinner -->
<div class="spinner-overlay" id="loadingSpinner">
<div class="spinner-border text-primary" style="width: 3rem; height: 3rem;">
<span class="visually-hidden">در حال بارگذاری...</span>
</div>
</div>

<!-- Header Top -->
<div class="header-top">
<div class="container">
<div class="row align-items-center">
<div class="col-md-6">
<small>
<i class="fas fa-phone me-2"></i> 021-12345678
<span class="mx-3">|</span>
<i class="fas fa-envelope me-2"></i> info@asemanabi.org
</small>
</div>
<div class="col-md-6 text-end">
<a href="#" class="text-white me-3"><i class="fab fa-facebook"></i></a>
<a href="#" class="text-white me-3"><i class="fab fa-twitter"></i></a>
<a href="#" class="text-white me-3"><i class="fab fa-instagram"></i></a>
<a href="#" class="text-white"><i class="fab fa-telegram"></i></a>
</div>
</div>
</div>
</div>

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top">
<div class="container">
<a class="navbar-brand" href="index.html">
<img src="images/logo.png" alt="آسمان آبی">
</a>
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarNav">
<ul class="navbar-nav ms-auto">
<li class="nav-item">
<a class="nav-link" href="index.html">صفحه اصلی</a>
</li>
<li class="nav-item">
<a class="nav-link" href="about.html">درباره ما</a>
</li>
<li class="nav-item">
<a class="nav-link" href="team.html">تیم ما</a>
</li>
<li class="nav-item">
<a class="nav-link" href="calendar.html">تقویم رویدادها</a>
</li>
<li class="nav-item">
<a class="nav-link" href="membership.html">عضویت</a>
</li>
<li class="nav-item">
<a class="nav-link active" href="feedback.html">ارتباط با ما</a>
</li>
<li class="nav-item">
<a class="nav-link" href="contact.html">تماس</a>
</li>
</ul>
</div>
</div>
</nav>

<!-- Page Header -->
<div class="page-header">
<div class="container">
<h1 class="display-4 fw-bold" data-aos="fade-up">ارتباط با ما</h1>
<p class="lead" data-aos="fade-up" data-aos-delay="100">نظرات، پیشنهادات و انتقادات شما راهنمای ما هستند</p>
</div>
</div>

<!-- Quick Contact Section -->
<section class="py-5">
<div class="container">
<div class="row">
<div class="col-md-3 mb-4" data-aos="fade-up">
<div class="quick-contact-card">
<div class="quick-contact-icon">
<i class="fas fa-phone"></i>
</div>
<h5>تماس تلفنی</h5>
<p class="mb-0">021-12345678</p>
<small class="text-muted">شنبه تا چهارشنبه: ۹ تا ۱۷</small>
</div>
</div>
<div class="col-md-3 mb-4" data-aos="fade-up" data-aos-delay="100">
<div class="quick-contact-card">
<div class="quick-contact-icon">
<i class="fas fa-envelope"></i>
</div>
<h5>ایمیل</h5>
<p class="mb-0">info@asemanabi.org</p>
<small class="text-muted">پاسخ در ۲۴ ساعت</small>
</div>
</div>
<div class="col-md-3 mb-4" data-aos="fade-up" data-aos-delay="200">
<div class="quick-contact-card">
<div class="quick-contact-icon">
<i class="fab fa-whatsapp"></i>
</div>
<h5>واتساپ</h5>
<p class="mb-0">0912-3456789</p>
<small class="text-muted">پشتیبانی آنلاین</small>
</div>
</div>
<div class="col-md-3 mb-4" data-aos="fade-up" data-aos-delay="300">
<div class="quick-contact-card">
<div class="quick-contact-icon">
<i class="fas fa-map-marker-alt"></i>
</div>
<h5>آدرس</h5>
<p class="mb-0">تهران، ولیعصر</p>
<small class="text-muted">شنبه تا چهارشنبه</small>
</div>
</div>
</div>
</div>
</section>

<!-- Category Selection -->
<section class="py-5 bg-light">
<div class="container">
<h2 class="text-center mb-5" data-aos="fade-up">موضوع پیام شما چیست؟</h2>
<div class="row">
<div class="col-md-4 col-lg-2 mb-4" data-aos="fade-up">
<div class="category-card" data-category="complaint">
<div class="category-icon">
<i class="fas fa-exclamation-triangle"></i>
</div>
<h5>انتقاد</h5>
<small class="text-muted">گزارش مشکلات</small>
</div>
</div>
<div class="col-md-4 col-lg-2 mb-4" data-aos="fade-up" data-aos-delay="100">
<div class="category-card" data-category="suggestion">
<div class="category-icon">
<i class="fas fa-lightbulb"></i>
</div>
<h5>پیشنهاد</h5>
<small class="text-muted">ایده‌های جدید</small>
</div>
</div>
<div class="col-md-4 col-lg-2 mb-4" data-aos="fade-up" data-aos-delay="200">
<div class="category-card" data-category="appreciation">
<div class="category-icon">
<i class="fas fa-heart"></i>
</div>
<h5>تشکر</h5>
<small class="text-muted">قدردانی</small>
</div>
</div>
<div class="col-md-4 col-lg-2 mb-4" data-aos="fade-up" data-aos-delay="300">
<div class="category-card" data-category="cooperation">
<div class="category-icon">
<i class="fas fa-handshake"></i>
</div>
<h5>همکاری</h5>
<small class="text-muted">درخواست همکاری</small>
</div>
</div>
<div class="col-md-4 col-lg-2 mb-4" data-aos="fade-up" data-aos-delay="400">
<div class="category-card" data-category="media">
<div class="category-icon">
<i class="fas fa-newspaper"></i>
</div>
<h5>رسانه</h5>
<small class="text-muted">روابط عمومی</small>
</div>
</div>
<div class="col-md-4 col-lg-2 mb-4" data-aos="fade-up" data-aos-delay="500">
<div class="category-card" data-category="other">
<div class="category-icon">
<i class="fas fa-ellipsis-h"></i>
</div>
<h5>سایر</h5>
<small class="text-muted">موضوعات دیگر</small>
</div>
</div>
</div>
</div>
</section>

<!-- Contact Form Section -->
<section class="py-5">
<div class="container">
<div class="row">
<div class="col-lg-8">
<div class="contact-form" data-aos="fade-up">
<h3 class="mb-4">فرم ارسال پیام</h3>

<form id="contactForm" class="needs-validation" novalidate>
<input type="hidden" id="messageCategory" name="category" required>

<div class="row">
<div class="col-md-6 mb-3">
<label for="fullName" class="form-label required-field">نام و نام خانوادگی</label>
<input type="text" class="form-control" id="fullName" name="fullName" required>
<div class="invalid-feedback">لطفاً نام خود را وارد کنید</div>
</div>
<div class="col-md-6 mb-3">
<label for="email" class="form-label required-field">ایمیل</label>
<input type="email" class="form-control" id="email" name="email" required>
<div class="invalid-feedback">لطفاً ایمیل معتبر وارد کنید</div>
</div>
<div class="col-md-6 mb-3">
<label for="phone" class="form-label">شماره تماس</label>
<input type="tel" class="form-control" id="phone" name="phone" pattern="09[0-9]{9}">
<div class="invalid-feedback">شماره تماس باید با ۰۹ شروع شود</div>
</div>
<div class="col-md-6 mb-3">
<label for="subject" class="form-label required-field">موضوع پیام</label>
<input type="text" class="form-control" id="subject" name="subject" required>
<div class="invalid-feedback">لطفاً موضوع پیام را وارد کنید</div>
</div>
</div>

<div class="mb-3">
<label class="form-label">اولویت پیام</label>
<div>
<span class="priority-badge low" data-priority="low">
<i class="fas fa-flag me-1"></i>عادی
</span>
<span class="priority-badge medium" data-priority="medium">
<i class="fas fa-flag me-1"></i>متوسط
</span>
<span class="priority-badge high" data-priority="high">
<i class="fas fa-flag me-1"></i>فوری
</span>
</div>
<input type="hidden" id="priority" name="priority" value="low">
</div>

<div class="mb-3">
<label for="department" class="form-label">واحد مربوطه</label>
<select class="form-select" id="department" name="department">
<option value="">انتخاب کنید</option>
<option value="management">مدیریت</option>
<option value="education">آموزش</option>
<option value="research">پژوهش</option>
<option value="pr">روابط عمومی</option>
<option value="volunteer">امور داوطلبین</option>
<option value="finance">امور مالی</option>
<option value="it">فناوری اطلاعات</option>
</select>
</div>

<div class="mb-3">
<label for="message" class="form-label required-field">متن پیام</label>
<textarea class="form-control" id="message" name="message" rows="6" required></textarea>
<div class="invalid-feedback">لطفاً پیام خود را بنویسید</div>
<small class="text-muted">حداقل ۲۰ کاراکتر</small>
</div>

<div class="mb-3">
<label class="form-label">فایل ضمیمه</label>
<div class="file-upload-area" id="fileUploadArea">
<i class="fas fa-cloud-upload-alt fa-3x text-muted mb-3"></i>
<p class="mb-0">فایل را اینجا رها کنید یا کلیک کنید</p>
<small class="text-muted">حداکثر حجم: 5MB | فرمت‌های مجاز: jpg, png, pdf, doc, docx</small>
<input type="file" id="fileInput" name="attachment" class="d-none" accept=".jpg,.jpeg,.png,.pdf,.doc,.docx">
</div>
<div id="fileInfo" class="mt-2"></div>
</div>

<div class="form-check mb-3">
<input class="form-check-input" type="checkbox" id="newsletter" name="newsletter">
<label class="form-check-label" for="newsletter">
مایل به دریافت خبرنامه بنیاد هستم
</label>
</div>

<div class="form-check mb-4">
<input class="form-check-input" type="checkbox" id="privacy" name="privacy" required>
<label class="form-check-label" for="privacy">
با <a href="#" class="text-primary">سیاست حفظ حریم خصوصی</a> موافقم
</label>
<div class="invalid-feedback">برای ارسال پیام باید با سیاست حریم خصوصی موافقت کنید</div>
</div>

<button type="submit" class="btn btn-primary btn-lg px-5">
<i class="fas fa-paper-plane me-2"></i>ارسال پیام
</button>
</form>

<div class="success-message" id="successMessage">
<i class="fas fa-check-circle fa-3x mb-3"></i>
<h4>پیام شما با موفقیت ارسال شد!</h4>
<p>کد پیگیری: <strong id="trackingCode"></strong></p>
<p>در اولین فرصت پاسخ شما را ارسال خواهیم کرد.</p>
</div>
</div>
</div>

<div class="col-lg-4">
<div class="response-time-info" data-aos="fade-up" data-aos-delay="100">
<h5><i class="fas fa-clock me-2"></i>زمان پاسخگویی</h5>
<div class="response-time-item">
<i class="fas fa-exclamation-triangle text-danger"></i>
<span><strong>انتقادات:</strong> حداکثر ۴۸ ساعت</span>
</div>
<div class="response-time-item">
<i class="fas fa-lightbulb text-success"></i>
<span><strong>پیشنهادات:</strong> حداکثر ۷۲ ساعت</span>
</div>
<div class="response-time-item">
<i class="fas fa-heart text-warning"></i>
<span><strong>تشکر و قدردانی:</strong> حداکثر ۲۴ ساعت</span>
</div>
<div class="response-time-item">
<i class="fas fa-handshake text-primary"></i>
<span><strong>درخواست همکاری:</strong> حداکثر ۵ روز کاری</span>
</div>
<div class="response-time-item">
<i class="fas fa-newspaper text-info"></i>
<span><strong>روابط عمومی:</strong> حداکثر ۲۴ ساعت</span>
</div>
</div>

<div class="card mb-4" data-aos="fade-up" data-aos-delay="200">
<div class="card-body">
<h5 class="card-title"><i class="fas fa-info-circle me-2"></i>نکات مهم</h5>
<ul class="mb-0">
<li>لطفاً پیام خود را واضح و مختصر بنویسید</li>
<li>در صورت نیاز به پاسخ فوری، با ما تماس بگیرید</li>
<li>کد پیگیری را برای پیگیری‌های بعدی نگه دارید</li>
<li>پیام‌های تکراری ارسال نکنید</li>
</ul>
</div>
</div>

<div class="card" data-aos="fade-up" data-aos-delay="300">
<div class="card-body text-center">
<h5 class="card-title">پیگیری پیام قبلی</h5>
<p class="text-muted">آیا قبلاً پیامی ارسال کرده‌اید؟</p>
<button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#trackingModal">
<i class="fas fa-search me-2"></i>پیگیری با کد
</button>
</div>
</div>
</div>
</div>
</div>
</section>

<!-- FAQ Section -->
<section class="faq-section">
<div class="container">
<h2 class="text-center mb-5" data-aos="fade-up">سؤالات متداول</h2>
<div class="row">
<div class="col-lg-8 mx-auto">
<div class="accordion" id="faqAccordion" data-aos="fade-up">
<div class="accordion-item">
<h2 class="accordion-header">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
چگونه می‌توانم وضعیت پیام خود را پیگیری کنم؟
</button>
</h2>
<div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
<div class="accordion-body">
پس از ارسال پیام، یک کد پیگیری دریافت خواهید کرد. با استفاده از این کد در بخش "پیگیری پیام" می‌توانید وضعیت پیام خود را مشاهده کنید.
</div>
</div>
</div>
<div class="accordion-item">
<h2 class="accordion-header">
<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
آیا می‌توانم بدون ذکر نام پیام ارسال کنم؟
</button>
</h2>
<div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
<div class="accordion-body">
برای پاسخگویی بهتر، ترجیح می‌دهیم اطلاعات تماس کامل را دریافت کنیم. اما در صورت تمایل می‌توانید فقط ایمیل خود را وارد کنید.
</div>
</div>
</div>
<div class="accordion-item">
<h2 class="accordion-header">
<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
چه نوع فایل‌هایی را می‌توانم ضمیمه کنم؟
</button>
</h2>
<div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
<div class="accordion-body">
فایل‌های تصویری (JPG, PNG)، PDF و اسناد Word (DOC, DOCX) با حداکثر حجم 5 مگابایت قابل ارسال هستند.
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>

<!-- Tracking Modal -->
<div class="modal fade" id="trackingModal" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title">پیگیری پیام</h5>
<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
</div>
<div class="modal-body">
<form id="trackingForm">
<div class="mb-3">
<label for="trackingInput" class="form-label">کد پیگیری</label>
<input type="text" class="form-control" id="trackingInput" placeholder="مثال: MSG-2024-001">
</div>
<button type="submit" class="btn btn-primary">جستجو</button>
</form>
<div id="trackingResult" class="mt-3"></div>
</div>
</div>
</div>
</div>

<!-- Footer -->
<footer>
<div class="container">
<div class="row">
<div class="col-md-4 mb-4">
<h5 class="mb-3">درباره بنیاد آسمان آبی</h5>
<p>ما گروهی از دوستداران محیط زیست هستیم که برای داشتن هوای پاک و آسمان آبی تلاش می‌کنیم.</p>
<div class="mt-3">
<a href="#" class="text-white me-3"><i class="fab fa-facebook fa-2x"></i></a>
<a href="#" class="text-white me-3"><i class="fab fa-twitter fa-2x"></i></a>
<a href="#" class="text-white me-3"><i class="fab fa-instagram fa-2x"></i></a>
<a href="#" class="text-white"><i class="fab fa-telegram fa-2x"></i></a>
</div>
</div>
<div class="col-md-4 mb-4">
<h5 class="mb-3">دسترسی سریع</h5>
<ul class="list-unstyled footer-links">
<li class="mb-2"><a href="index.html"><i class="fas fa-angle-left me-2"></i>صفحه اصلی</a></li>
<li class="mb-2"><a href="about.html"><i class="fas fa-angle-left me-2"></i>درباره ما</a></li>
<li class="mb-2"><a href="team.html"><i class="fas fa-angle-left me-2"></i>تیم ما</a></li>
<li class="mb-2"><a href="calendar.html"><i class="fas fa-angle-left me-2"></i>تقویم رویدادها</a></li>
</ul>
</div>
<div class="col-md-4 mb-4">
<h5 class="mb-3">تماس با ما</h5>
<p class="mb-1"><i class="fas fa-phone me-2"></i>021-12345678</p>
<p class="mb-1"><i class="fas fa-envelope me-2"></i>info@asemanabi.org</p>
<p><i class="fas fa-map-marker-alt me-2"></i>تهران، خیابان ولیعصر، پلاک ۱۲۳</p>
</div>
</div>
<hr class="bg-white">
<div class="text-center py-3">
<p class="mb-0">© ۱۴۰۲ بنیاد آسمان آبی - تمامی حقوق محفوظ است</p>
</div>
</div>
</footer>


<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="js/main.js"></script>

<!-- Inline Scripts -->
<script>
// Initialize AOS
AOS.init({
duration: 1000,
once: true
});

// Category Selection
const categoryCards = document.querySelectorAll('.category-card');
const messageCategoryInput = document.getElementById('messageCategory');

categoryCards.forEach(card => {
card.addEventListener('click', function() {
categoryCards.forEach(c => c.classList.remove('selected'));
this.classList.add('selected');
messageCategoryInput.value = this.getAttribute('data-category');

// Scroll to form
document.querySelector('.contact-form').scrollIntoView({
behavior: 'smooth',
block: 'start'
});
});
});

// Priority Selection
const priorityBadges = document.querySelectorAll('.priority-badge');
const priorityInput = document.getElementById('priority');

priorityBadges.forEach(badge => {
badge.addEventListener('click', function() {
priorityBadges.forEach(b => b.classList.remove('selected'));
this.classList.add('selected');
priorityInput.value = this.getAttribute('data-priority');
});
});

// Set default priority
document.querySelector('.priority-badge.low').classList.add('selected');

// File Upload
const fileUploadArea = document.getElementById('fileUploadArea');
const fileInput = document.getElementById('fileInput');
const fileInfo = document.getElementById('fileInfo');

fileUploadArea.addEventListener('click', () => fileInput.click());

fileUploadArea.addEventListener('dragover', (e) => {
e.preventDefault();
fileUploadArea.classList.add('dragging');
});

fileUploadArea.addEventListener('dragleave', () => {
fileUploadArea.classList.remove('dragging');
});

fileUploadArea.addEventListener('drop', (e) => {
e.preventDefault();
fileUploadArea.classList.remove('dragging');

const files = e.dataTransfer.files;
handleFiles(files);
});

fileInput.addEventListener('change', (e) => {
handleFiles(e.target.files);
});

function handleFiles(files) {
if (files.length > 0) {
const file = files[0];
const fileSize = (file.size / 1024 / 1024).toFixed(2);

if (fileSize > 5) {
alert('حجم فایل نباید بیشتر از 5 مگابایت باشد');
return;
}

fileInfo.innerHTML = `
<div class="alert alert-info">
<i class="fas fa-file me-2"></i>
${file.name} (${fileSize} MB)
<button type="button" class="btn-close btn-sm float-end" onclick="removeFile()"></button>
</div>
`;
}
}

function removeFile() {
fileInput.value = '';
fileInfo.innerHTML = '';
}

// Form Validation
const contactForm = document.getElementById('contactForm');
const loadingSpinner = document.getElementById('loadingSpinner');
const successMessage = document.getElementById('successMessage');

contactForm.addEventListener('submit', function(e) {
e.preventDefault();

if (!this.checkValidity() || !messageCategoryInput.value) {
e.stopPropagation();
this.classList.add('was-validated');

if (!messageCategoryInput.value) {
alert('لطفاً موضوع پیام را انتخاب کنید');
document.querySelector('.category-card').scrollIntoView({
behavior: 'smooth',
block: 'center'
});
}
return;
}

// Show loading
loadingSpinner.classList.add('show');

// Simulate form submission
setTimeout(() => {
loadingSpinner.classList.remove('show');

// Generate tracking code
const trackingCode = 'MSG-' + new Date().getFullYear() + '-' + Math.floor(Math.random() * 1000).toString().padStart(3, '0');
document.getElementById('trackingCode').textContent = trackingCode;

// Hide form and show success message
contactForm.style.display = 'none';
successMessage.style.display = 'block';

// Scroll to success message
successMessage.scrollIntoView({
behavior: 'smooth',
block: 'center'
});
}, 2000);
});

// Message character counter
const messageTextarea = document.getElementById('message');
messageTextarea.addEventListener('input', function() {
const length = this.value.length;
const small = this.nextElementSibling.nextElementSibling;

if (length < 20) {
small.textContent = `حداقل ۲۰ کاراکتر (${20 - length} کاراکتر باقی‌مانده)`;
small.classList.add('text-danger');
small.classList.remove('text-muted');
} else {
small.textContent = `${length} کاراکتر`;
small.classList.remove('text-danger');
small.classList.add('text-muted');
}
});

// Tracking Form
const trackingForm = document.getElementById('trackingForm');
const trackingResult = document.getElementById('trackingResult');

trackingForm.addEventListener('submit', function(e) {
e.preventDefault();

const trackingCode = document.getElementById('trackingInput').value;

if (!trackingCode) {
trackingResult.innerHTML = `
<div class="alert alert-danger">
لطفاً کد پیگیری را وارد کنید
</div>
`;
return;
}

// Simulate tracking
trackingResult.innerHTML = `
<div class="alert alert-info">
<h6>وضعیت پیام: <span class="badge bg-warning">در حال بررسی</span></h6>
<p class="mb-1"><strong>کد پیگیری:</strong> ${trackingCode}</p>
<p class="mb-1"><strong>تاریخ ارسال:</strong> ۱۴۰۲/۰۹/۱۵</p>
<p class="mb-0"><strong>واحد پاسخگو:</strong> روابط عمومی</p>
</div>
`;
});

// Real-time validation
const inputs = contactForm.querySelectorAll('input[required], textarea[required]');
inputs.forEach(input => {
input.addEventListener('blur', function() {
if (!this.checkValidity()) {
this.classList.add('is-invalid');
} else {
this.classList.remove('is-invalid');
}
});
});

// Phone number formatting
document.getElementById('phone').addEventListener('input', function(e) {
this.value = this.value.replace(/[^0-9]/g, '');
});


</script>
</body>
</html>